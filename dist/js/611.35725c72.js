"use strict";(self["webpackChunkadmin_dashboard_everstake"]=self["webpackChunkadmin_dashboard_everstake"]||[]).push([[611],{18611:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a-row",{attrs:{type:"flex",gutter:24}},[s("a-col",{staticClass:"mb-24",attrs:{span:24,md:24}},[s("a-card",{staticClass:"header-solid h-full",attrs:{loading:t.isLoading,bordered:!1,bodyStyle:{paddingTop:0,paddingBottom:"16px"}},scopedSlots:t._u([{key:"title",fn:function(){return[s("h6",{staticClass:"font-semibold m-0"},[t._v("Users Information")])]},proxy:!0}])},[t.isLoading||t.usersData.length?s("a-row",{attrs:{gutter:[24,24]}},t._l(t.usersData,(function(e){return s("a-col",{attrs:{span:24}},[s("a-card",{staticClass:"card-billing-info",attrs:{bordered:!1}},[s("div",{staticClass:"col-info"},[s("a-descriptions",{attrs:{title:e.name,column:1}},[s("a-descriptions-item",{attrs:{label:"Email Address"}},[t._v(" "+t._s(e.email)+" ")]),s("a-descriptions-item",{attrs:{label:"Role"}},[t._v(" "+t._s(e.role)+" ")]),s("a-descriptions-item",{attrs:{label:"Created"}},[t._v(" "+t._s(e.created_at.slice(0,10))+" ")])],1)],1),s("div",{staticClass:"col-action"},[s("a-button",{directives:[{name:"b-modal",rawName:"v-b-modal.EditRoleUserModal",modifiers:{EditRoleUserModal:!0}}],attrs:{type:"link",size:"small"},on:{click:function(s){t.editUser.email=e.email,t.editUser.role=e.role}}},[s("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{staticClass:"fill-muted",attrs:{d:"M13.5858 3.58579C14.3668 2.80474 15.6332 2.80474 16.4142 3.58579C17.1953 4.36683 17.1953 5.63316 16.4142 6.41421L15.6213 7.20711L12.7929 4.37868L13.5858 3.58579Z",fill:"#111827"}}),s("path",{staticClass:"fill-muted",attrs:{d:"M11.3787 5.79289L3 14.1716V17H5.82842L14.2071 8.62132L11.3787 5.79289Z",fill:"#111827"}})]),s("span",{staticClass:"text-dark"},[t._v("EDIT")])])],1)])],1)})),1):s("a-empty")],1)],1)],1),s("b-modal",{attrs:{id:"EditRoleUserModal",title:"Edit Role User",centered:"","hide-footer":""}},[s("a-form",{staticClass:"login-form",attrs:{id:"components-form-demo-normal-login"}},t._l(t.editUser,(function(e,a){return s("a-form-item",{staticStyle:{margin:"10px"},attrs:{label:a.toUpperCase(),colon:!1}},[s("a-input",{attrs:{disabled:"email"===a,placeholder:a.toUpperCase()},model:{value:t.editUser[a],callback:function(e){t.$set(t.editUser,a,e)},expression:"editUser[label]"}})],1)})),1),s("a-form-item",{staticStyle:{margin:"10px"}},[s("a-button",{staticClass:"login-form-button",attrs:{type:"primary",block:""},on:{click:t.putAdminUserRole}},[t._v("EDIT ROLE USER")])],1)],1)],1)},r=[],i=s(76051),n=s(59883),o={name:"Users",data(){return{usersData:[],editUser:{email:null,role:null},isLoading:!1}},created(){this.getAdminUsers()},methods:{async getAdminUsers(){try{this.isLoading=!0;const t=await(0,i.Rf)();this.usersData=t.data}catch(t){(0,n.S)(t)}finally{this.isLoading=!1}},async putAdminUserRole(){try{await(0,i.vJ)(this.editUser),this.$bvModal.hide("EditRoleUserModal"),(0,n.s)("User role changed successfully!"),await this.getAdminUsers()}catch(t){(0,n.S)(t)}}}},l=o,d=s(1001),c=(0,d.Z)(l,a,r,!1,null,null,null),u=c.exports},76051:function(t,e,s){s.d(e,{$Z:function(){return v},DE:function(){return b},Rf:function(){return _},el:function(){return U},jS:function(){return h},lY:function(){return g},vJ:function(){return y}});var a=s(70538),r=s(9669),i=s.n(r),n=s(59883),o=s(51034),l=s(3115);const d=i().create({baseURL:"https://api-dev.everstake.one",timeout:"30000",withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),c=async t=>{const e=await a["default"].prototype.$auth.getUserIdToken();return e&&(t.headers.Authorization=e),t};d.interceptors.request.use((t=>c(t)),(t=>Promise.reject(t)));let u=!1,m=[];function p(t){m.push(t)}function f(){m.map((t=>t()))}d.interceptors.response.use((t=>t),(t=>{const e=t.config;if("ERR_BAD_AUTH"===t.response.data.error){u||(u=!0,a["default"].prototype.$auth.getUserIdToken(!0).then((t=>{l.Z.commit(`auth/${o.hJ}`,t),u=!1,m=[]})).catch((t=>{(0,n.S)(t)})));const t=new Promise((t=>{p((()=>{t(d(e))}))}));return f(),t}return Promise.reject(t)})),m=[];const h=()=>d.get("/rates"),g=t=>d.put("/chain",t),U=()=>d.get("/chains"),b=()=>d.get("/currencies"),v=t=>d.post("/chain",t),y=t=>d.put("/user/role",t),_=()=>d.get("/users")}}]);
//# sourceMappingURL=611.35725c72.js.map