"use strict";(self["webpackChunkadmin_dashboard_everstake"]=self["webpackChunkadmin_dashboard_everstake"]||[]).push([[611],{18611:function(t,e,r){r.r(e),r.d(e,{default:function(){return f}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("a-row",{attrs:{type:"flex",gutter:24}},[r("a-col",{staticClass:"mb-24",attrs:{span:24,md:24}},[r("a-card",{staticClass:"header-solid h-full",attrs:{loading:t.isLoading,bordered:!1,bodyStyle:{paddingTop:0,paddingBottom:"16px"}},scopedSlots:t._u([{key:"title",fn:function(){return[r("h6",{staticClass:"font-semibold m-0"},[t._v("Users Information")])]},proxy:!0}])},[t.isLoading||t.usersData.length?r("a-row",{attrs:{gutter:[24,24]}},t._l(t.usersData,(function(e){return r("a-col",{attrs:{span:24}},[r("a-card",{staticClass:"card-billing-info",attrs:{bordered:!1}},[r("div",{staticClass:"col-info"},[r("a-descriptions",{attrs:{title:e.name,column:1}},[r("a-descriptions-item",{attrs:{label:"Email Address"}},[t._v(" "+t._s(e.email)+" ")]),r("a-descriptions-item",{attrs:{label:"Role"}},[t._v(" "+t._s(e.role)+" ")]),r("a-descriptions-item",{attrs:{label:"Created"}},[t._v(" "+t._s(e.created_at.slice(0,10))+" ")])],1)],1),r("div",{staticClass:"col-action"},[r("a-button",{directives:[{name:"b-modal",rawName:"v-b-modal.EditRoleUserModal",modifiers:{EditRoleUserModal:!0}}],attrs:{type:"link",size:"small"},on:{click:function(r){t.editUser.email=e.email,t.editUser.role=e.role}}},[r("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{staticClass:"fill-muted",attrs:{d:"M13.5858 3.58579C14.3668 2.80474 15.6332 2.80474 16.4142 3.58579C17.1953 4.36683 17.1953 5.63316 16.4142 6.41421L15.6213 7.20711L12.7929 4.37868L13.5858 3.58579Z",fill:"#111827"}}),r("path",{staticClass:"fill-muted",attrs:{d:"M11.3787 5.79289L3 14.1716V17H5.82842L14.2071 8.62132L11.3787 5.79289Z",fill:"#111827"}})]),r("span",{staticClass:"text-dark"},[t._v("EDIT")])])],1)])],1)})),1):r("a-empty")],1)],1)],1),r("b-modal",{attrs:{id:"EditRoleUserModal",title:"Edit Role User",centered:"","hide-footer":""}},[r("a-form",{staticClass:"login-form",attrs:{id:"components-form-demo-normal-login"}},t._l(t.editUser,(function(e,n){return r("a-form-item",{staticStyle:{margin:"10px"},attrs:{label:n.toUpperCase(),colon:!1}},[r("a-input",{attrs:{disabled:"email"===n,placeholder:n.toUpperCase()},model:{value:t.editUser[n],callback:function(e){t.$set(t.editUser,n,e)},expression:"editUser[label]"}})],1)})),1),r("a-form-item",{staticStyle:{margin:"10px"}},[r("a-button",{staticClass:"login-form-button",attrs:{type:"primary",block:""},on:{click:t.putAdminUserRole}},[t._v("EDIT ROLE USER")])],1)],1)],1)},a=[],s=r(16198),i=(r(35666),r(76051)),o=r(59883),u={name:"Users",data:function(){return{usersData:[],editUser:{email:null,role:null},isLoading:!1}},created:function(){this.getAdminUsers()},methods:{getAdminUsers:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,(0,i.Rf)();case 4:r=e.sent,t.usersData=r.data,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),(0,o.S)(e.t0);case 11:return e.prev=11,t.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()},putAdminUserRole:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.vJ)(t.editUser);case 3:return t.$bvModal.hide("EditRoleUserModal"),(0,o.s)("User role changed successfully!"),e.next=7,t.getAdminUsers();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),(0,o.S)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},c=u,l=r(1001),d=(0,l.Z)(c,n,a,!1,null,null,null),f=d.exports},76051:function(t,e,r){r.d(e,{$Z:function(){return w},DE:function(){return U},Rf:function(){return R},el:function(){return b},jS:function(){return v},lY:function(){return g},vJ:function(){return k}});var n=r(16198),a=(r(41539),r(21249),r(35666),r(70538)),s=r(9669),i=r.n(s),o=r(59883),u=r(51034),c=r(3115),l=i().create({baseURL:"https://api-dev.everstake.one",timeout:"30000",withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}),d=function(){var t=(0,n.Z)(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["default"].prototype.$auth.getUserIdToken();case 2:return r=t.sent,r&&(e.headers.Authorization=r),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();l.interceptors.request.use((function(t){return d(t)}),(function(t){return Promise.reject(t)}));var f=!1,p=[];function m(t){p.push(t)}function h(){p.map((function(t){return t()}))}l.interceptors.response.use((function(t){return t}),(function(t){var e=t.config;if("ERR_BAD_AUTH"===t.response.data.error){f||(f=!0,a["default"].prototype.$auth.getUserIdToken(!0).then((function(t){c.Z.commit("auth/".concat(u.hJ),t),f=!1,p=[]})).catch((function(t){(0,o.S)(t)})));var r=new Promise((function(t){m((function(){t(l(e))}))}));return h(),r}return Promise.reject(t)})),p=[];var v=function(){return l.get("/rates")},g=function(t){return l.put("/chain",t)},b=function(){return l.get("/chains")},U=function(){return l.get("/currencies")},w=function(t){return l.post("/chain",t)},k=function(t){return l.put("/user/role",t)},R=function(){return l.get("/users")}}}]);
//# sourceMappingURL=611-legacy.e03d5db9.js.map